import{a as T,b as C}from"./chunk-6U7MSXUP.js";import{a as O,c as j,d as q,f as A,h as Q,i as L,j as R,o as $,r as G,t as P}from"./chunk-AYW3NSXX.js";import{$ as M,D as l,E as b,J as f,L as S,M as r,N as s,O as g,P as h,R as c,S as _,U as I,V as d,X as w,Y as E,aa as V,ba as F,ea as N,fa as k,p as x,s as v,sa as D,t as y,w as p,wa as U,x as u}from"./chunk-G4DRSHJR.js";var Y=["f"];function Z(n,e){if(n&1){let a=h();r(0,"button",15),c("click",function(){p(a);let i=_();return u(i.onDelete())}),d(1,"Delete"),s()}}var B=(()=>{let e=class e{constructor(t){this.slService=t,this.editMode=!1}ngOnInit(){this.slService.startedEditing.subscribe(t=>{this.editedItemIndex=t,this.editMode=!0,this.editedItem=this.slService.getIngredient(t),this.slForm.setValue({name:this.editedItem.name,amount:this.editedItem.amount})})}onSubmit(t){let i=t.value,o=new T(i.name,i.amount);this.editMode?this.slService.updateIngredient(this.editedItemIndex,o):this.slService.addIngredient(o),this.editMode=!1,this.slForm.reset()}onDelete(){this.onClear(),this.slService.deleteIngredient(this.editedItemIndex)}onClear(){this.slForm.reset(),this.editMode=!1}};e.\u0275fac=function(i){return new(i||e)(b(C))},e.\u0275cmp=v({type:e,selectors:[["app-shopping-edit"]],viewQuery:function(i,o){if(i&1&&V(Y,5),i&2){let m;M(m=F())&&(o.slForm=m.first)}},decls:20,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[3,"ngSubmit"],["f","ngForm"],[1,"row","mb-3"],["form-group","",1,"col-sm-5"],["for","name"],["type","text","id","name","name","name","ngModel","","required","",1,"form-control"],["form-group","",1,"col-sm-2"],["for","amount"],["type","number","id","amount","name","amount","ngModel","","required","","pattern","^[1-9]+[0-9]*$",1,"form-control"],[1,"com-xs-12"],["type","submit",1,"btn","btn-success","me-2",3,"disabled"],["class","btn btn-danger me-2","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger","me-2",3,"click"]],template:function(i,o){if(i&1){let m=h();r(0,"div",0)(1,"div",1)(2,"form",2,3),c("ngSubmit",function(){p(m);let K=I(3);return u(o.onSubmit(K))}),r(4,"div",4)(5,"div",5)(6,"label",6),d(7,"Name"),s(),g(8,"input",7),s(),r(9,"div",8)(10,"label",9),d(11,"Amount"),s(),g(12,"input",10),s()(),r(13,"div",0)(14,"div",11)(15,"button",12),d(16),s(),S(17,Z,2,0,"button",13),r(18,"button",14),c("click",function(){return o.onClear()}),d(19,"Clear"),s()()()()()()}if(i&2){let m=I(3);l(15),f("disabled",!m.valid),l(1),w(" ",o.editMode?"Update":"Add"," "),l(1),f("ngIf",o.editMode)}},dependencies:[L,O,R,j,q,$,G,Q,A,k]});let n=e;return n})();function te(n,e){if(n&1){let a=h();r(0,"a",4),c("click",function(){let o=p(a).index,m=_();return u(m.onEditItem(o))}),d(1),s()}if(n&2){let a=e.$implicit;l(1),E(" ",a.name," ( ",a.amount," ) ")}}var H=(()=>{let e=class e{constructor(t){this.slService=t}ngOnInit(){this.ingredients=this.slService.getIngredients(),this.subscription=this.slService.ingredientChanged.subscribe(t=>this.ingredients=t)}onEditItem(t){this.slService.startedEditing.next(t)}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(b(C))},e.\u0275cmp=v({type:e,selectors:[["app-shopping-list"]],decls:6,vars:1,consts:[[1,"row"],[1,"col-xs-10"],[1,"list-group"],["class","list-group-item","cursor","pointer;",3,"click",4,"ngFor","ngForOf"],["cursor","pointer;",1,"list-group-item",3,"click"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1),g(2,"app-shopping-edit")(3,"hr"),r(4,"ul",2),S(5,te,2,2,"a",3),s()()()),i&2&&(l(5),f("ngForOf",o.ingredients))},dependencies:[N,B]});let n=e;return n})();var ie=[{path:"",component:H}],pe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=y({type:e}),e.\u0275inj=x({imports:[D.forChild(ie),P,U]});let n=e;return n})();export{pe as ShoppingListModule};
